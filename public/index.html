<!DOCTYPE html>
<!-- ASSIGN OUR ANGULAR MODULE -->
<html ng-app="earthquakesApp">
	<head>
	    <!-- META -->
	    <meta charset="utf-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Optimize mobile viewport -->

	    <title>Earthquakes</title>

	    <!-- SCROLLS -->
	    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"><!-- load bootstrap -->
	    <link rel="stylesheet" type="text/css" href="custom.css">

	    <!-- SPELLS -->
	    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><!-- load jquery -->
	    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script><!-- load angular -->
	    <script src="core.js"></script>

	    <script>
			$(document).ready(function() {
			    function close_accordion_section() {
			        $('.accordion .accordion-section-title').removeClass('active');
			        $('.accordion .accordion-section-content').slideUp(300).removeClass('open');
			    }
			 
			    $('.accordion-section-title').click(function(e) {
			        // Grab current anchor value
			        var currentAttrValue = $(this).attr('href');
			 
			        if ($(e.target).is('.active')) {
			            close_accordion_section();
			            $(this).children('.plusMinus').text('+');
			        } else {
			            close_accordion_section();
			            // Add active class to section title
			            $(this).addClass('active');
			            // Open up the hidden content panel
			            $('.accordion ' + currentAttrValue).slideDown(300).addClass('open'); 
			            $(this).children('.plusMinus').text('-');
			        }
			        e.preventDefault();
			    });
			});
		</script>
	</head>

	<!-- SET THE CONTROLLER AND GET ALL TODOS -->
	<body ng-controller="mainController">
	    <div class="container">

	        <!-- HEADER -->
	        <div class="jumbotron text-center">
	            <h1>Earthquake Data</h1>
	        </div>

	     	<div class="accordion">
			    <div class="accordion-section">
			    	<div ng-repeat="n in [] | range: 9" >
				        <a class="accordion-section-title" href="#accordion{{n}}"><span>Magnitude {{n}} to {{n + 1}}</span><span class="plusMinus">+</span></a>
				        <div id="accordion{{n}}" class="accordion-section-content">
				            <table>
								<td><h5>Location<h5></td>
								<td><h5>Magnitude</h5></td>
								<tr ng-repeat="earthquake in earthquakes | filter: between('magnitude', n) | orderBy: ['magnitude', lastWord, firstWord]">
									<td>{{ earthquake.place }}</td>
									<td>{{ earthquake.magnitude }}</td>
								</tr>
							</table>
				        </div><!--end .accordion-section-content-->
				    </div><!--end ng-repeat-->
			    </div><!--end .accordion-section-->
			</div><!--end .accordion-->

	    </div>
	</body>
</html>


